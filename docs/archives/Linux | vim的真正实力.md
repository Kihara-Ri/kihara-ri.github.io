# vim的真正实力

网络上有很多人认为vim很难用, 与我们现在的键盘操作逻辑非常不符, 比如输出文字需要先进入插入模式, 而他们大多数情况下只知道使用 ++i++ , 保存退出需要使用`:wq`, 而绝大多数第一次接触到vim的时候都不知道怎么退出, 这也就给了刚接触vim的用户非常不好的印象, 认为它是上个世纪的古董计算机软件, 已经过时了, 并且在国内外很多vim教程的评论区中都有诸如 "谢谢🙏, 已经学会退出vim了/我学习了10年, 终于能退出vim了" 之类的调侃

但严肃地说, vim作为一款编辑器, 其实是一个天才的开创之举, 它打破了以往我们对于编辑器的认知, 通过设计各种模式和快捷操作, 让我们能够通过全键盘操作, 以代码或命令的形式来操控编辑[^1], 而不是通过鼠标点来点去, 不仅效率低下而且容易出错. 当我们审视了vim一段时间, 自然会了解到它的设计的天才之处

[^1]: 参考自: [南京大学 计算机科学与技术系 计算机系统基础 课程实验 2023: Configuring vim](https://nju-projectn.github.io/ics-pa-gitbook/ics2023/0.4.html)

<!-- more -->

## 进阶快捷键操作

- ++shift+a++ 在行尾添加, 与 ++shift+4++ 不同的是前者会跳转到 INSERT MODE, 而后者不会 
- ++shift+i++ 在行首插入, 与 ++shift+0++ 不同的是前者会跳转到INSERT MODE, 而后者不会
- ++shift+c++ 剪切(change)行内光标后面的所有内容, 进入INSERT MODE, ++shift+d++ 有相似的功能, 但不会进入 INSERT MODE

使用 ++e++ **e**nd 跳转到下一个单词的末尾, 使用 ++w++ **w**ord 跳转到下一个单词的开头, 使用 ++b++ **b**ack 跳转到上一个单词的开头

在编辑时 NORMAL MODE 下就可以通过`:set relativenumber`进行编辑器配置的修改, 但是需要注意这种修改是临时的

如果在编辑的时候做了使用 ++u++ (undo) 退回了, 但是之后又后悔了, 可以使用 ++ctrl+r++ 回退`undo`操作, 套娃了属于是

使用`==`修正代码缩进, 这个用法很少有人提到

使用`/<content>`, `?<content>`进行匹配, 按 ++n++ 或 ++shift+8++ 跳转至下一个, 回退到上一个使用 ++shift+n++

锚点`m<character>`: **m**ark, 随便选择一个字母设置锚点, 比如`ma`, 然后下次使用`'a`回到锚点`a`

**替换操作**

全局替换:

``` vim
:%s/<target>/<wanted>/g
```

- `%`表达的是表示整个文件, 而不仅仅是这一行
- `s`表示 subtitute

如果要仅替换部分, 可以先选中目标文本范围, 然后再替换

缓冲区`:reg`: register, vim自带强大剪贴板

使用`@`记录和应用强大的宏(macro)功能

## 组合操作

- `dw`: **d**elete a **w**ord, 可以删除一个单词, `2dw`/`d2w`则可以删除两个单词
- `diw`: **d**elete **i**n a **w**ord, 光标在一个单词内部时可以无脑使用删除这个单词, 在中文中则是一句话
- `yiw`: **y**ank **i**n a **w**ord, 复制这一个单词
- :star: `ciw`: **c**hange **i**n a **w**ord, 修改这一个单词

每一个位置都能组合, 如果要改变`"<content>"`中的内容, 使用 `ci"` 同理, 括号`(<content>)`可以使用`ci(`

使用`%`跳转到下一个大括号收尾处, `d%`删除里面的所有内容

在行内可以使用`t(`使光标跳转到`(`的前面, 使用`f(`跳转到`(`, 如果有的话, 当然括号也可以换成别的符号

---

## 配置neovim

neovim 支持非常多的插件, 它能将你的vim编辑器打造得甚至比IDE的功能更加强大, 但是配置起来也很麻烦, 这里为了个性化的使用, 我适当进行了一些配置, 让它用起来感觉相当不错, 足以进行各个文件的代码编辑

``` shell
sudo apt install neovim
```



## References

1. [Vim Tutorial for Beginners](https://www.youtube.com/watch?v=RZ4p-saaQkc&t=42s)